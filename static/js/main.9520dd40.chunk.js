(window.webpackJsonpsplash=window.webpackJsonpsplash||[]).push([[0],{29:function(e,t,n){e.exports=n(45)},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(12),o=n.n(c),s=(n(34),n(14)),i=n(15),u=n(18),l=n(16),d=n(19),p=n(17),f=(n(40),function(){return a.a.createElement("header",null,"What the Splash!")}),O={LOAD:"IMAGES_LOAD",LOAD_SUCCESS:"IMAGES_LOAD_SUCCESS",LOAD_FAIL:"IMAGES_LOAD_FAIL"},b="STATS_LOAD",g="STATS_LOAD_SUCCESS",h="STATS_LOAD_FAIL",m=function(e){return{type:O.LOAD_SUCCESS,images:e}},v=function(e){return{type:O.LOAD_FAIL,error:e}},w=function(e){return{type:b,id:e}},j=function(e,t){return{type:g,id:e,download:t}},S=function(e){return{type:h,id:e}},E=n(27),L=(n(41),function(e){var t=e.children,n=e.loading,r=Object(E.a)(e,["children","loading"]);return a.a.createElement("button",Object.assign({className:"button",disabled:n},r),n?"loading...":t)});L.defaultProps={loading:!1};var _=L,x=(n(42),function(e){var t=e.stats;return t?a.a.createElement("span",{className:"stats"},t.error&&"\ud83e\udd2f Error!",t.isLoading&&"\ud83d\ude44 Loading...",null!==t.download&&"\ud83e\udd18 ".concat(t.download)):a.a.createElement("span",{className:"stats"},"Loading...")}),A=(n(43),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadImages()}},{key:"render",value:function(){var e=this.props,t=e.images,n=e.error,r=e.isLoading,c=e.loadImages,o=e.imageStats;return a.a.createElement("div",{className:"content"},a.a.createElement("section",{className:"content-grid"},t.map((function(e){return a.a.createElement("div",{key:e.id,className:"content-grid__item item-".concat(Math.ceil(e.height/e.width))},a.a.createElement(x,{stats:o[e.id]}),a.a.createElement("img",{src:e.urls.small,alt:e.user.username}))}))),n&&a.a.createElement("div",{className:"error"},JSON.stringify(n)),a.a.createElement(_,{onClick:function(){return!r&&c()},loading:r},"Cargar m\xe1s"))}}]),t}(r.Component)),y=Object(p.b)((function(e){return{isLoading:e.isLoading,images:e.images,error:e.error,imageStats:e.imageStats}}),(function(e){return{loadImages:function(){return e({type:O.LOAD})}}}))(A),D=n(8),k=n(28),C=n(11),I=n(24);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=Object(D.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.LOAD:return!0;case O.LOAD_SUCCESS:case O.LOAD_FAIL:return!1;default:return e}},images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===O.LOAD_SUCCESS?[].concat(Object(I.a)(e),Object(I.a)(t.images)):e},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.LOAD_FAIL:return t.error;case O.LOAD:case O.LOAD_SUCCESS:return null;default:return e}},nextPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.LOAD_SUCCESS:return e+1;default:return e}},imageStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return P({},e,Object(C.a)({},t.id,{isLoading:!0,download:null,error:!1}));case g:return P({},e,Object(C.a)({},t.id,{isLoading:!1,download:t.download,error:!1}));case h:return P({},e,Object(C.a)({},t.id,{isLoading:!1,download:null,error:!0}));default:return e}}}),T=n(4),F=n.n(T),M=n(6),X=n(23),G="?client_id=67ae24d3c5aa64e246df53247fe74bc8c2d0d476e92c7dcc889dda49f887310e",J="https://api.unsplash.com/photos/",W=function(){var e=Object(X.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(J).concat(G,"&per_page=3&page=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(X.a)(F.a.mark((function e(t){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(J,"/").concat(t,"/statistics").concat(G));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=F.a.mark(q),V=F.a.mark(z),$=function(e){return e.nextPage};function q(){var e,t;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(M.e)($);case 3:return e=n.sent,n.next=6,Object(M.b)(W,e);case 6:return t=n.sent,n.next=9,Object(M.d)(m(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(M.d)(v(n.t0.toString()));case 15:case"end":return n.stop()}}),R,null,[[0,11]])}function z(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.g)(O.LOAD,q);case 2:case"end":return e.stop()}}),V)}var H=F.a.mark(Q),K=F.a.mark(Y);function Q(e){var t,n;return F.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<3)){r.next=18;break}return r.prev=2,r.next=5,Object(M.d)(w(e));case 5:return r.next=7,Object(M.b)(B,e);case 7:return n=r.sent,r.next=10,Object(M.d)(j(e,n.downloads.total));case 10:return r.abrupt("return",!0);case 13:r.prev=13,r.t0=r.catch(2);case 15:t++,r.next=1;break;case 18:return r.next=20,Object(M.d)(S(e));case 20:case"end":return r.stop()}}),H,null,[[2,13]])}function Y(){var e,t,n;return F.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(M.f)(O.LOAD_SUCCESS);case 3:e=r.sent,t=e.images,n=0;case 6:if(!(n<t.length)){r.next=12;break}return r.next=9,Object(M.c)(Q,t[n].id);case 9:n++,r.next=6;break;case 12:r.next=0;break;case 14:case"end":return r.stop()}}),K)}var Z=F.a.mark(ee);function ee(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.a)([z(),Y()]);case 2:case"end":return e.stop()}}),Z)}var te=function(){var e=Object(k.a)(),t=Object(D.e)(U,Object(D.d)(Object(D.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return e.run(ee),t}(),ne=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(p.a,{store:te},a.a.createElement(f,null),a.a.createElement(y,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.9520dd40.chunk.js.map